{"version":3,"sources":["components/Content.js","components/Filter.js","components/PersonForm.js","components/Backend.js","App.js","index.js"],"names":["Content","persons","searchName","deleteName","length","style","listStyle","padding","filter","person","name","toLowerCase","includes","map","i","number","onClick","id","Filter","newFilter","setNewFilter","value","onChange","event","target","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","personObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","useEffect","Backend","returned","Notification","message","color","background","fontSize","borderStyle","borderRadius","marginBottom","preventDefault","x","forEach","window","confirm","concat","setTimeout","catch","error","replaceId","item","filteredPerson","personName","personId","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83fa3b30.chunk.js","sourcesContent":["import React from 'react'\nconst Content = ({persons, searchName,deleteName}) => {\n    return (\n        persons.length ?\n        <ul style={{listStyle: 'none', padding: 0}}>\n            {\n                persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\n                .map((person,i) => (\n                    <li key={i}>\n                        {person.name} {person.number} &nbsp;\n                        <button onClick={()=>deleteName(person.id)}>Delete</button>\n                    </li>\n                ))\n            }\n        </ul>\n        :\n        <p>Loading contacts...</p>\n    );\n};\n\n  export default Content","import React from 'react';\n\n// Component for filtering the phonebook by the searched name\n\nconst Filter = ({newFilter,setNewFilter}) => {\n    return (\n        <div>\n            Search for name: <input value={newFilter} \n                onChange={event => setNewFilter(event.target.value)}\n            />\n        </div>\n    );\n};\n\nexport default Filter;","\n\nconst PersonForm = ({addPerson,newName,handleNameChange,newNumber,handleNumberChange}) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n            name: <input \n          value={newName}\n          onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n} //fetch initial state of phonebook \n\nconst addPerson = personObject => { \n    const request = axios.post(baseUrl, personObject)\n    return request.then(response=>response.data)\n} // add 1 person into phonebook \n\n\nconst deleteName = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response=>response.data)\n}\n\nconst update = (id,personObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\n    return request.then(response=>response.data)\n}\n    \n\nexport default {\n    getPersons, addPerson , deleteName ,update\n}","import React, { useState, useEffect } from 'react'\nimport Content from './components/Content'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Backend from './components/Backend'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n  const [newFilter,setNewFilter] = useState('')\n  const [errorMessage,setErrorMessage] = useState(null)\n \n\n\n  const firstperson = () => {\n    Backend.getPersons()\n    .then(returned=>{\n      setPersons(returned)\n    })\n  }\n  useEffect(firstperson,[])\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => { \n    setNewNumber(event.target.value)\n  }\n  \n  const Notification = ({message}) => {\n    const notiStyle = {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n    if (message===null) {\n      return null\n    }\n\n    else {\n      return (\n        <div style={notiStyle}>\n          {message}\n        </div>\n      )\n    }\n  }\n\nconst addPerson = (event) => {\n    event.preventDefault()\n    let x = 1\n    persons.forEach(value => {\n      if (value.name === newName) {\n        if (window.confirm(`${newName} is already in phonebook, replace old number with new one?`)){\n          x = 2\n        }\n        else {\n          x = 0 \n        }\n      }\n    })\n\n    if (x===1) { \n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n  \n      //setPersons(persons.concat(personObject))\n      Backend.addPerson(personObject)\n      .then(returned => {\n        setPersons(persons.concat(returned))\n        setErrorMessage(`${newName} has been added to phonebook!`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('') \n      }).catch(error => {\n        setErrorMessage('Something went wrong!')\n      })\n      \n    }\n    if (x===2) { \n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      const replace = persons.filter(person => person.name===newName)\n      const replaceId = replace[0].id\n      Backend.update(replaceId,personObject).then(\n        returned=> {\n          setPersons(persons.map(item => item.id !== replaceId ? item : returned))\n        }\n      ).catch(error => {\n        setErrorMessage('Something went wrong with updating!')\n      })\n      setErrorMessage(`${newName} has been updated in the phonebook!`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('') \n    }\n  }\n\n\n  const deleteName = (id) => {\n    const filteredPerson = persons.filter(person => person.id === id)\n    const personName = filteredPerson[0].name\n    const personId = filteredPerson[0].id\n    if (window.confirm(`Delete ${personName} ?`)) {\n      Backend\n        .deleteName(personId)\n        .catch(error => {\n          setErrorMessage(`Information of ${personName} has already been removed from server.`)\n        })\n      console.log(`${personName} successfully deleted`)\n      setPersons(persons.filter(person => person.id !== personId)) //return values that id is not personId \n      \n    \n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage}/>\n      <Filter newFilter = {newFilter} setNewFilter = {setNewFilter} />\n      \n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber = {newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>\n        <ul>\n          <Content persons = {persons} searchName={newFilter} deleteName={deleteName} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}